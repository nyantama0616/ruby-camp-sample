# Ruby合宿2024夏・サンプルゲーム

神経衰弱を題材としたサンプルゲームです。

## 動作条件

Ruby 3.2系以上のバージョンで、Ruby/GosuライブラリがRubyGemsに追加されていることが要件となります。
Ruby/Gosuライブラリの導入については、

https://www.libgosu.org/ruby.html

を参照ください。

#### フォントファイルの配置

本README.txtファイルと同じディレクトリ階層に、文字を描画する際に使用するTrueType Fontファイルを配置してください。
デフォルトではGoogle Fontsにて提供されている「Dela Gothic One」フォント（ https://fonts.google.com/specimen/Dela+Gothic+One ）を使用するように設定しています。
同フォントをダウンロードし、得られた「DelaGothicOne-Regular.ttf」ファイルをコピーしてください。
※ フォントファイルの配置は必須です。

もし、上記フォント以外を指定したい場合は、当該フォントのttfファイルを同ディレクトリにコピー後、「scenes\director_base.rb」ファイル内の定数「FONT_FILENAME」を、使用したいttfファイル名に書き換えてください。

#### 音源ファイルの配置

音源ファイルが無ければ無音でプレイ可能ですが、以下のファイル名でmp3ファイルをttfファイルと同じディレクトリ階層に配置することでゲーム内でBGMや効果音を鳴らせるようになっています。

* タイトル画面用BGM → bgm1.mp3
* ゲーム本編用BGM  → bgm2.mp3
* ゲーム本編用効果音 → effect1.mp3
* エンディング画面・ゲームオーバー画面用BGM → bgm3.mp3

## ゲームの実行方法

前項の動作条件が満たされたら、後は本ディレクトリをカレントディレクトリとして、

```
ruby main.rb
```

にてゲームが実行できます。

本ゲームはシーン制御のサンプルも兼ねているため、最初にタイトル画面が表示され、スペースキー押下にてゲーム本編に画面遷移します。
ゲームが始まると、画面下端に制限時間を示すタイムリミットバーが表示され、徐々に残り時間が減る様子を示します。

マウス左クリックで画面上に散らばるカードをオープンできます。
また、マウス左ドラッグでカードを任意の位置に移動することも可能です。

2枚のカードを開くと加点／減点判定が実行され、2枚の数値部分が一致すれば10点加点され、一致しなければ1点減点されます。
最新のスコア状況は画面右上に表示されます。

制限時間内に10点以上獲得すればゲームクリアとなります。
10点取れないまま制限時間が過ぎるとゲームオーバーです。
※ あくまでもゲームのサンプルなので条件は緩めにしてあります。
